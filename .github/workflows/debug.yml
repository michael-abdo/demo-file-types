name: Debug GitHub Environment

on:
  push:
    branches:
      - main

jobs:
  debug:
    name: Debug Environment
    runs-on: ubuntu-latest
    
    steps:
      - name: Check repository
        run: |
          echo "🔍 Repository: ${{ github.repository }}"
          echo "📌 Branch: ${{ github.ref }}"
          echo "🔨 Event: ${{ github.event_name }}"
          echo "👤 Actor: ${{ github.actor }}"
          
      - name: Check secrets availability
        run: |
          echo "Testing if secrets are available..."
          echo "HEROKU_API_KEY length: $(echo -n '${{ secrets.HEROKU_API_KEY }}' | wc -c)"
          
          if [ $(echo -n '${{ secrets.HEROKU_API_KEY }}' | wc -c) -eq 0 ]; then
            echo "❌ HEROKU_API_KEY is empty or not set!"
          else
            echo "✅ HEROKU_API_KEY is available"
          fi